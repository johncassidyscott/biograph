<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BioGraph</title>
<style>
     body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; margin: 20px; }
     .row { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 12px; }
     select, input, button { padding: 8px; font-size: 14px; }
     pre { background: #f6f8fa; padding: 12px; border-radius: 8px; overflow: auto; }
     a { color: #0969da; text-decoration: none; }
     a:hover { text-decoration: underline; }
</style>
</head>
<body>
<h1>BioGraph</h1>
<div class="row">
<a href="/docs">API Docs</a>
<a href="/health">Health</a>
</div>
<h2>Entities</h2>
<div class="row">
<select id="kind">
<option value="disease">disease</option>
<option value="drug">drug</option>
<option value="company">company</option>
<option value="target">target</option>
<option value="trial">trial</option>
<option value="publication">publication</option>
<option value="filing">filing</option>
</select>
<input id="limit" type="number" value="20" min="1" max="200" />
<button id="loadEntities">Load</button>
</div>
<pre id="entitiesOut">Click Load.</pre>
<h2>Edges</h2>
<div class="row">
<input id="pred" placeholder="predicate (optional)" />
<input id="edgeLimit" type="number" value="50" min="1" max="500" />
<button id="loadEdges">Load</button>
</div>
<pre id="edgesOut">Click Load.</pre>
<script>
     async function getJSON(path) {
       const r = await fetch(path);
       if (!r.ok) throw new Error(await r.text());
       return await r.json();
     }
     document.getElementById("loadEntities").onclick = async () => {
       const kind = document.getElementById("kind").value;
       const limit = document.getElementById("limit").value;
       const out = document.getElementById("entitiesOut");
       out.textContent = "Loading...";
       try {
         const data = await getJSON(`/entities?kind=${encodeURIComponent(kind)}&limit=${encodeURIComponent(limit)}`);
         out.textContent = JSON.stringify(data, null, 2);
       } catch (e) {
         out.textContent = String(e);
       }
     };
     document.getElementById("loadEdges").onclick = async () => {
       const pred = document.getElementById("pred").value.trim();
       const limit = document.getElementById("edgeLimit").value;
       const out = document.getElementById("edgesOut");
       out.textContent = "Loading...";
       try {
         const qs = new URLSearchParams();
         if (pred) qs.set("predicate", pred);
         qs.set("limit", limit);
         const data = await getJSON(`/edges?${qs.toString()}`);
         out.textContent = JSON.stringify(data, null, 2);
       } catch (e) {
         out.textContent = String(e);
       }
     };
</script>
</body>
</html>